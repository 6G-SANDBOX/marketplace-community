---
name: "[Testing] OCF"
# version + date "%Y%M%d-%h%m"
version: "20241221-0914"
software_version: "v2.0.0"
publisher: Telefonica Innovación Digital
description: |-
  This appliance installs OpenCAPIF from ETSI. The OpenCAPIF version installed will be Release v2.0.0-release

  After deploying the appliance, check the status of the deployment in /etc/one-appliance/status. You chan check the appliance logs in /var/log/one-appliance/.

  Default client to onboard API invokers and API providers is client/password.

  Remember to include in your local DNS the entry to resolve the hostname (capifcore) of the appliance. Register Service will be accesible through capifcore:8084 and CCF will be at capifcore:8080
  
  **Note**: Remember to add a password variable in the template in order to have access to it, or make sure that your OpenNebula user has an SSH Public key preconfigured.
  
  **Note**: Remember to update the template in order to add a network after importing it.

short_description: OCF appliance for KVM
tags:
  - ubuntu
  - ocf
format: qcow2
# stat -c %W <file>
creation_time: "1719246477"
os-id: Ubuntu
os-release: '22.04'
os-arch: x86_64
hypervisor: KVM
opennebula_version: >-
  6.2, 6.3, 6.4, 6.6, 6.8, 6.10
opennebula_template:
  context:
    network: 'YES'
    set_hostname: "$NAME"
    ssh_public_key: "$USER[SSH_PUBLIC_KEY]"
    oneapp_ocf_user: "$ONEAPP_OCF_USER"
    oneapp_ocf_password: "$ONEAPP_OCF_PASSWORD"
    capif_hostname: "$CAPIF_HOSTNAME"
  cpu: '2'
  vcpu: '2'
  cpu_model:
    model: "host-passthrough"
  graphics:
    listen: 0.0.0.0
    type: vnc
  hot_resize:
    cpu_hot_add_enabled: 'YES'
    memory_hot_add_enabled: 'YES'
  hypervisor: kvm
  memory: '4096'
  memory_unit_cost: 'MB'
  memory_resize_mode: 'BALLOONING'
  os:
    arch: x86_64
  logo: images/logos/ubuntu.png
  user_inputs:
    oneapp_ocf_user:                     "O|text|ONEAPP_OCF_USER: User to access the OpenCAPIF| |client"
    oneapp_ocf_password:                 "O|password|ONEAPP_OCF_PASSWORD: Password to access the OpenCAPIF| |password"
    capif_hostname:                      "O|password|CAPIF_HOSTNAME: Hostname for OpenCAPIF| |capifcore"
logo: OCF.png
images:
  - name: "[Testing] OCF"
    url: >-
      https://rawtest.mobilesandbox.cloud:9443/ocf_r2.qcow2
    type: OS
    dev_prefix: vd
    driver: qcow2
    # qemu-img info <file> | awk '/virtual size:/ {print $5}' | sed 's/[^0-9]*//g'
    size: "7516192768"
    checksum:
      # md5sum <file> | cut -d' ' -f1
      md5: "85971d547fe036800fd1832fc1f13d2d"
      # sha256sum <file> | cut -d' ' -f1
      sha256: "c5457a1cd3f8e8a2efc2e9429960dc0e8874d1f538ed0aca4f79a102fd2a28ba"
